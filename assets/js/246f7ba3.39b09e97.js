"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[570],{2176:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"Week 3/intro","title":"Week 3 - MySQL\u8a9e\u6cd5\u3001phpMyAdmin\u3001Database Design","description":"\u4ecb\u7d39\u5167\u5bb9","source":"@site/docs/Week 3/intro.md","sourceDirName":"Week 3","slug":"/Week 3/intro","permalink":"/php-mysql-guide/docs/Week 3/intro","draft":false,"unlisted":false,"editUrl":"https://github.com/Maxhu787/php-mysql-guide/edit/main/website/docs/Week 3/intro.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Week 3 - MySQL\u8a9e\u6cd5\u3001phpMyAdmin\u3001Database Design","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Week 2 - PHP\u8a9e\u6cd5\u3001form\u3001$_GET\u3001$_POST","permalink":"/php-mysql-guide/docs/Week 2/intro"},"next":{"title":"Week 4 - $_SESSION\u3001$_COOKIE\u3001pdo","permalink":"/php-mysql-guide/docs/Week 4/intro"}}');var r=i(4848),l=i(8453);const a={title:"Week 3 - MySQL\u8a9e\u6cd5\u3001phpMyAdmin\u3001Database Design",sidebar_position:3},t="Week 3 - MySQL \u8a9e\u6cd5\u3001phpMyAdmin\u3001Database Design",d={},o=[{value:"\u4ecb\u7d39\u5167\u5bb9",id:"\u4ecb\u7d39\u5167\u5bb9",level:2},{value:"Database Design",id:"database-design-1",level:2},{value:"Building a Data Model",id:"building-a-data-model",level:2},{value:"For each &quot;piece of info&quot;",id:"for-each-piece-of-info",level:2},{value:"Database Normalization",id:"database-normalization",level:2},{value:"Integer Reference Pattern",id:"integer-reference-pattern",level:2},{value:"Terminology of Keys",id:"terminology-of-keys",level:2},{value:"Three Kinds of Keys",id:"three-kinds-of-keys",level:3},{value:"Primary Key Rules",id:"primary-key-rules",level:2},{value:"Foreign Keys",id:"foreign-keys",level:2},{value:"MySQL \u662f\u4ec0\u9ebc\uff1f",id:"mysql-\u662f\u4ec0\u9ebc",level:2},{value:"Creating our Book Database",id:"creating-our-book-database",level:2},{value:"\u5efa\u7acb\u8cc7\u6599\u8868 (\u7bc4\u4f8b)",id:"\u5efa\u7acb\u8cc7\u6599\u8868-\u7bc4\u4f8b",level:2},{value:"1. \u4ec0\u9ebc\u662f phpMyAdmin\uff1f",id:"1-\u4ec0\u9ebc\u662f-phpmyadmin",level:2},{value:"2. \u767b\u5165\u8207\u4ecb\u9762\u4ecb\u7d39",id:"2-\u767b\u5165\u8207\u4ecb\u9762\u4ecb\u7d39",level:2},{value:"How to run queries",id:"how-to-run-queries",level:2},{value:"Inserting data to our Book database",id:"inserting-data-to-our-book-database",level:2},{value:"Retrieving data from our Book database",id:"retrieving-data-from-our-book-database",level:2},{value:"Using JOIN Across Tables",id:"using-join-across-tables",level:2},{value:"The JOIN Operation",id:"the-join-operation",level:3},{value:"ON DELETE CASCADE",id:"on-delete-cascade",level:2},{value:"ON DELETE Choices",id:"on-delete-choices",level:2},{value:"Many-to-Many Relationships",id:"many-to-many-relationships",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"week-3---mysql-\u8a9e\u6cd5phpmyadmindatabase-design",children:"Week 3 - MySQL \u8a9e\u6cd5\u3001phpMyAdmin\u3001Database Design"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4ecb\u7d39\u5167\u5bb9",children:"\u4ecb\u7d39\u5167\u5bb9"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Database Design"}),"\n",(0,r.jsx)(n.li,{children:"MySQL (\u8a9e\u6cd5)"}),"\n",(0,r.jsx)(n.li,{children:"phpMyAdmin"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"database-design",children:"Database Design"}),"\n",(0,r.jsx)(n.h2,{id:"database-design-1",children:"Database Design"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Database design is an ",(0,r.jsx)(n.strong,{children:"art form"})," with its own skills and experience."]}),"\n",(0,r.jsxs)(n.li,{children:["Our goal: ",(0,r.jsx)(n.strong,{children:"avoid bad mistakes"})," and design clear, easily understood databases."]}),"\n",(0,r.jsx)(n.li,{children:"Performance tuning can be done later."}),"\n",(0,r.jsxs)(n.li,{children:["Database design often ",(0,r.jsx)(n.strong,{children:"starts with a picture (schema diagram)"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"\u4f60\u53ef\u4ee5\u5728\u9019\u88e1\u88dc\u4e0a\u4e00\u5f35 ERD \u6216 Schema \u7684\u5716\u3002"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"building-a-data-model",children:"Building a Data Model"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Draw a picture of the ",(0,r.jsx)(n.strong,{children:"data objects"})," for your application."]}),"\n",(0,r.jsxs)(n.li,{children:["Then figure out how to represent the ",(0,r.jsx)(n.strong,{children:"objects and their relationships"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Basic rule: ",(0,r.jsx)(n.strong,{children:"Don\u2019t duplicate string data"})," \u2014 use a relationship instead."]}),"\n",(0,r.jsxs)(n.li,{children:['When there is one thing in the "real world," there should be ',(0,r.jsx)(n.strong,{children:"one copy"})," of that thing in the database."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"for-each-piece-of-info",children:'For each "piece of info"'}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Is the column an ",(0,r.jsx)(n.strong,{children:"object"})," or an ",(0,r.jsx)(n.strong,{children:"attribute"})," of another object?"]}),"\n",(0,r.jsxs)(n.li,{children:["Once we define objects, we need to define the ",(0,r.jsx)(n.strong,{children:"relationships"})," between them."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"database-normalization",children:"Database Normalization"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Do not replicate data \u2014 ",(0,r.jsx)(n.strong,{children:"reference it"})," instead."]}),"\n",(0,r.jsxs)(n.li,{children:["Use ",(0,r.jsx)(n.strong,{children:"integers"})," for keys and references."]}),"\n",(0,r.jsxs)(n.li,{children:["Add a special ",(0,r.jsx)(n.strong,{children:"key column"})," to each table which will be used in relationships."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"integer-reference-pattern",children:"Integer Reference Pattern"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["\u9019\u88e1\u53ef\u4ee5\u63d2\u5165\u4e00\u5f35 ",(0,r.jsx)(n.strong,{children:"table schema \u7684\u5716"}),"\uff0c\u5c55\u793a ",(0,r.jsx)(n.code,{children:"id"})," \u6307\u5411\u53e6\u4e00\u500b table \u7684\u60c5\u6cc1\u3002"]})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"terminology-of-keys",children:"Terminology of Keys"}),"\n",(0,r.jsx)(n.h3,{id:"three-kinds-of-keys",children:"Three Kinds of Keys"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Primary Key"})," \u2192 usually an integer auto-increment field"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Logical Key"})," \u2192 what the outside world uses for lookup (like email, username)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Foreign Key"})," \u2192 points to a row in another table (usually an integer id)"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"primary-key-rules",children:"Primary Key Rules"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Never use your ",(0,r.jsx)(n.strong,{children:"logical key"})," as the primary key."]}),"\n",(0,r.jsx)(n.li,{children:"String-based relationships are far less efficient than integer-based ones."}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"foreign-keys",children:"Foreign Keys"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.strong,{children:"foreign key"})," points to a ",(0,r.jsx)(n.strong,{children:"primary key"})," in another table."]}),"\n",(0,r.jsxs)(n.li,{children:["Both primary keys and foreign keys are usually ",(0,r.jsx)(n.strong,{children:"integers / ids"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"relationship-building-in-tables",children:"Relationship Building (in tables)"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"\u9019\u88e1\u53ef\u4ee5\u88dc\u4e0a\u4e00\u5f35 DB schema \u7684\u5716\uff0c\u986f\u793a\u591a\u8868\u683c\u95dc\u806f\u3002"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"mysql-\u57fa\u790e\u8a9e\u6cd5",children:"MySQL \u57fa\u790e\u8a9e\u6cd5"}),"\n",(0,r.jsx)(n.h2,{id:"mysql-\u662f\u4ec0\u9ebc",children:"MySQL \u662f\u4ec0\u9ebc\uff1f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4e00\u7a2e ",(0,r.jsx)(n.strong,{children:"\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u7ba1\u7406\u7cfb\u7d71 (RDBMS)"})]}),"\n",(0,r.jsxs)(n.li,{children:["\u4f7f\u7528 ",(0,r.jsx)(n.strong,{children:"SQL (Structured Query Language)"})," \u64cd\u4f5c\u8cc7\u6599"]}),"\n",(0,r.jsxs)(n.li,{children:["\u529f\u80fd\uff1a","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u5132\u5b58\u8207\u67e5\u8a62\u8cc7\u6599"}),"\n",(0,r.jsx)(n.li,{children:"\u5efa\u7acb\u95dc\u806f\u8868"}),"\n",(0,r.jsx)(n.li,{children:"\u7ba1\u7406\u4f7f\u7528\u8005\u8207\u6b0a\u9650"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"creating-our-book-database",children:"Creating our Book Database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE DATABASE Book\n    DEFAULT CHARACTER SET utf8mb4;\n\nUSE Book;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"\u5efa\u7acb\u8cc7\u6599\u8868-\u7bc4\u4f8b",children:"\u5efa\u7acb\u8cc7\u6599\u8868 (\u7bc4\u4f8b)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE Books (\n    id INT AUTO_INCREMENT PRIMARY KEY,\n    title VARCHAR(255) NOT NULL,\n    author VARCHAR(100),\n    published_year INT\n);\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"phpmyadmin",children:"phpMyAdmin"}),"\n",(0,r.jsx)(n.h2,{id:"1-\u4ec0\u9ebc\u662f-phpmyadmin",children:"1. \u4ec0\u9ebc\u662f phpMyAdmin\uff1f"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u57fa\u65bc Web \u7684 MySQL \u7ba1\u7406\u5de5\u5177"}),"\n",(0,r.jsx)(n.li,{children:"\u63d0\u4f9b\u5716\u5f62\u5316\u4ecb\u9762\uff0c\u65b9\u4fbf\u64cd\u4f5c\u8cc7\u6599\u5eab"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"2-\u767b\u5165\u8207\u4ecb\u9762\u4ecb\u7d39",children:"2. \u767b\u5165\u8207\u4ecb\u9762\u4ecb\u7d39"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5982\u4f55\u9032\u5165 (\u901a\u5e38 ",(0,r.jsx)(n.a,{href:"http://localhost/phpmyadmin",children:"http://localhost/phpmyadmin"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"\u4ecb\u9762\u5404\u5340\u584a\uff1a\u8cc7\u6599\u5eab\u5217\u8868\u3001SQL \u57f7\u884c\u5340\u3001\u532f\u5165\u532f\u51fa\u5de5\u5177"}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"how-to-run-queries",children:"How to run queries"}),"\n",(0,r.jsx)(n.p,{children:"\u5728 SQL \u5340\u584a\u76f4\u63a5\u8f38\u5165\u67e5\u8a62\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT * FROM Books;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"inserting-data-to-our-book-database",children:"Inserting data to our Book database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"INSERT INTO Books (title, author, published_year)\nVALUES ('Clean Code', 'Robert C. Martin', 2008);\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"retrieving-data-from-our-book-database",children:"Retrieving data from our Book database"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT title, author FROM Books;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"using-join-across-tables",children:"Using JOIN Across Tables"}),"\n",(0,r.jsx)(n.h3,{id:"the-join-operation",children:"The JOIN Operation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["JOIN links across several tables in a ",(0,r.jsx)(n.code,{children:"SELECT"})," query."]}),"\n",(0,r.jsxs)(n.li,{children:["You must tell the JOIN how to use the keys that connect tables with an ",(0,r.jsx)(n.code,{children:"ON"})," clause."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT b.title, a.name\nFROM Books b\nJOIN Authors a\nON b.author_id = a.id;\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"on-delete-cascade",children:"ON DELETE CASCADE"}),"\n",(0,r.jsx)(n.p,{children:"\u522a\u9664\u6642\u6703\u81ea\u52d5\u5f71\u97ff\u95dc\u806f\u8868\uff1a"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"DELETE FROM Genre WHERE genre_name = 'Metal';\n"})}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"on-delete-choices",children:"ON DELETE Choices"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RESTRICT (Default)"})," \u2192 \u4e0d\u5141\u8a31\u7834\u58de\u5916\u9375\u95dc\u806f"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CASCADE"})," \u2192 \u522a\u9664\u6216\u66f4\u65b0\u6642\uff0c\u81ea\u52d5\u5957\u7528\u5230\u5b50\u8868"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"SET NULL"})," \u2192 \u5b50\u8868\u7684\u5916\u9375\u6b04\u4f4d\u8a2d\u70ba ",(0,r.jsx)(n.code,{children:"NULL"})]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h2,{id:"many-to-many-relationships",children:"Many-to-Many Relationships"}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Course <-> Course_Member <-> User\ncourse_id <-> (course_id, user_id) <-> user_id\n"})}),"\n",(0,r.jsxs)(n.p,{children:["\u900f\u904e ",(0,r.jsx)(n.strong,{children:"\u4e2d\u4ecb\u8868 (join table)"})," \u4f86\u5efa\u7acb\u591a\u5c0d\u591a\u95dc\u4fc2\u3002"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"end-",children:"End! \ud83d\ude42"}),"\n",(0,r.jsxs)(n.p,{children:["\u5237\u984c\u6642\u9593 \ud83d\udc49 ",(0,r.jsx)(n.a,{href:"https://freecodecamp.org/",children:"https://freecodecamp.org/"})]})]})}function c(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>t});var s=i(6540);const r={},l=s.createContext(r);function a(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);